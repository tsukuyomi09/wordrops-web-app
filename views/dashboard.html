<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>User Dashboard</title>
        <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap"
            rel="stylesheet"
        />
        <link href="/style/style.css" rel="stylesheet" />
        <link rel="stylesheet" href="/swiper/swiper-bundle.min.css" />
        <link
            href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
            rel="stylesheet"
        />
        <script src="/js/checkAuth.js"></script>
    </head>

    <body class="h-screen">
        <div
            id="overlay-books"
            style="display: none"
            class="fixed w-full h-full inset-0 bg-black opacity-0 bg-opacity-75 transform translate-y-10 transition-all duration-500 z-50 flex items-center justify-center p-8"
        >
            <button
                onclick="closeBookOverlay()"
                class="absolute top-0 left-1/2 bg-red-600 text-white mt-4 font-bold px-4 py-2 rounded flex items-center justify-center shadow-lg hover:bg-red-700 transition duration-300"
            >
                ESCI
            </button>
            <div
                class="bg-white p-24 rounded-lg shadow-lg max-w-6xl w-full flex flex-col overflow-y-auto"
            >
                <!-- Prima parte: Immagine e informazioni libro -->
                <div class="flex">
                    <!-- Immagine del libro -->
                    <div class="w-1/3 flex justify-left items-start">
                        <img
                            src="/images/book-icon.png"
                            alt="Icona Libro"
                            class="w-48 h-64 rounded shadow-md"
                        />
                    </div>

                    <!-- Dettagli libro -->
                    <div class="w-2/3 flex flex-col">
                        <!-- Titolo -->
                        <h2 class="text-6xl font-bold" id="book-title">
                            Titolo del Libro
                        </h2>

                        <!-- Rating -->
                        <div class="flex items-center gap-2 mt-2">
                            <span class="text-lg font-semibold">Rating:</span>
                            <div id="book-rating" class="flex gap-1">
                                ⭐⭐⭐⭐⭐
                            </div>
                        </div>

                        <!-- Autori -->
                        <div class="mt-4">
                            <h3 class="text-lg font-semibold">Autori:</h3>
                            <div class="flex gap-4 mt-2">
                                <div class="flex flex-col items-center">
                                    <div
                                        class="w-12 h-12 bg-gray-300 rounded-full"
                                    ></div>
                                    <span class="text-sm mt-1">Utente1</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div
                                        class="w-12 h-12 bg-gray-300 rounded-full"
                                    ></div>
                                    <span class="text-sm mt-1">Utente2</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div
                                        class="w-12 h-12 bg-gray-300 rounded-full"
                                    ></div>
                                    <span class="text-sm mt-1">Utente3</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div
                                        class="w-12 h-12 bg-gray-300 rounded-full"
                                    ></div>
                                    <span class="text-sm mt-1">Utente4</span>
                                </div>
                                <div class="flex flex-col items-center">
                                    <div
                                        class="w-12 h-12 bg-gray-300 rounded-full"
                                    ></div>
                                    <span class="text-sm mt-1">Utente5</span>
                                </div>
                            </div>
                        </div>

                        <!-- Genere -->
                        <div class="mt-4">
                            <h3 class="text-lg font-semibold">Genere:</h3>
                            <p id="book-genre" class="text-gray-700">
                                Fantasy, Avventura
                            </p>
                        </div>

                        <!-- Descrizione -->
                        <div class="mt-4">
                            <h3 class="text-lg font-semibold">Descrizione:</h3>
                            <p id="book-summary" class="text-gray-700">
                                Lorem ipsum dolor sit amet, consectetur
                                adipiscing elit.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Seconda parte: Capitoli -->
                <div
                    class="pt-40 max-h-80 book-chapters-container flex flex-col gap-20"
                >
                    <!-- Capitolo -->
                    <div class="mt-4 book-chapters flex flex-col gap-6">
                        <h3 class="text-2xl font-semibold" id="chapter-title">
                            Capitolo: <span> Firing sword</span>
                        </h3>
                        <div class="flex items-center mt-2">
                            <a
                                href="/profile/username"
                                class="flex items-center"
                            >
                                <img
                                    src="/images/avatars/boa-icon-chibi.png"
                                    alt="Autore"
                                    class="w-10 h-10 rounded-full mr-2"
                                />
                                <span
                                    class="text-sm text-blue-600 hover:underline"
                                    >Username</span
                                >
                            </a>
                        </div>
                        <p class="text-gray-700 mt-2" id="chapter-text">
                            They were hard men, brusque and brutal and not well
                            spoken, with scars and weathered faces that spoke of
                            long service in the free companies. “Serjeants,” Ser
                            Daemon whispered when he saw them. “I have known
                            their sort before.” Once Arianne had made her name
                            and purpose known to them, the two serjeants proved
                            hospitable enough. “You’ll stay the night,” said
                            Mudd. “There’s beds for all of you. In the morning
                            you’ll have fresh horses, and whatever provisions
                            you might need. M’lady’s maester can send a bird to
                            Griffin’s Roost to let them know you’re coming.”
                            “And who would them be?” asked Arianne. “Lord
                            Connington?” The sellswords exchanged a look. “The
                            Halfmaester,” said John Mudd. “It’s him you’ll find
                            at the Roost.” “Griffin’s marching,” said Chain.
                            “Marching where?” Ser Daemon ask. “Not for us to
                            say,” said Mudd. “Chain, hold your tongue.” Chain
                            gave a snort. “She’s Dorne. Why shouldn’t she know?
                            Come down to join us, ain’t she?” That has yet to be
                            determined, thought Arianne Martell, but she felt it
                            best not to press the matter. At evenfall a fine
                            supper was served to them in the solar, high in the
                            Tower of Owls, where they were joined by the dowager
                            Lady Mertyns and her maester. Though a captive in
                            her own castle, the old woman seemed spry and
                            cheerful. “My sons and grandsons went off when Lord
                            Renly called his banners,” she told the princess and
                            her party. “I have not seen them since, though from
                            time to time they send a raven. One of my grandsons
                            took a wound at the Blackwater, but he’s since
                            recovered. I expect they will return here soon
                            enough to hang this lot of thieves. ” She waved a
                            duck leg at Mudd and Chain across the table. “We are
                            no thieves,” said Mudd. “We’re foragers.” “Did you
                            buy all that food down in the yard?” “We foraged
                            it,” said Mudd. “The smallfolk can grow more. We
                            serve your rightful king, old crone.” He seemed to
                            be enjoying this. “You should learn to speak more
                            courteous to knights.” “If you two are knights, I’m
                            still a maiden,” said Lady Mertyns. “And I’ll speak
                            as I please. What will you do, kill me? I have lived
                            too long already.” Princess Arianne said, “Have you
                            been treated well, my lady?” “I have not been raped,
                            if that is what you’re asking,” the old woman said.
                            “Some of the serving girls have been less fortunate.
                            Married or unmarried, the men make no distinctions.
                            “ “No one’s been doing any raping,” insisted Young
                            John Mudd. “Connington won’t have that. We follow
                            orders.” Chain nodded. “Some girls was persuaded,
                            might be.” “The same way our smallfolk were
                            persuaded to give you all their crops. Melons or
                            maidenheads, it’s all the same to your sort. If you
                            want it, you take it.” Lady Mertyns turned to
                            Arianne. “If you should see this Lord Connington,
                            you tell him that I knew his mother, and she would
                            be ashamed.” Perhaps I shall, the princess thought.
                            That night she dispatched her second raven to her
                            father. Arianne was on her way back to her own
                            chamber when she heard muffled laughter from the
                            adjoining room. She paused and listened for a
                            moment, then pushed the door open to find Elia Sand
                            curled up in a window seat, kissing Feathers. When
                            Feathers saw the princess standing there, he jumped
                            to his feet and began to stammer. Both of them still
                            had their clothes on. Arianne took some small
                            comfort in that as she sent Feathers on his way with
                            a sharp look and a “Go”. Then she turned to Elia.
                            “He is twice your age. A serving man. He cleans up
                            birdshit for the maester. Elia, what were you
                            thinking?” “We were only kissing. I’m not going to
                            marry him.” Elia crossed her arms defiantly beneath
                            her breasts. “You think I never kissed a boy
                            before?” “Feathers is a man. A serving man, but
                            still a man. It did not escape the princess that
                            Elia was the same age she had been when she gave her
                            maidenhead to Daemon Sand. “I am not your mother.
                            Kiss all the boys you want when we return to Dorne.
                            Here and now, though . . . this is no place for
                            kisses, Elia. Meek and mild and obedient, you said.
                            Must I add chaste to that as well? You swore upon
                            your father’s bones. “I remember,” said Elia,
                            sounding chastened. “Meek and mild and obedient. I
                            won’t kiss him again.” The shortest way from
                            Mistwood to Griffin’s Roost was through the green,
                            wet heart of the rainwood, slow going at the best of
                            times. It took Arianne and her company the better
                            part of eight days. They travelled to the music of
                            steady, lashing rains beating at the treetops up
                            above, though underneath the green great canopy of
                            leaves and branches she and her riders stayed
                            surprisingly dry. Chain accompanied them for the
                            first four days of their journey north, with a line
                            of wagons and ten men of his own. Away from Mudd he
                            proved more forthcoming, and Arianne was able to
                            charm his life story out of him. His proudest boast
                            was of a great grandsire who had fought with the
                            Black Dragon on the Redgrass Field, and crossed the
                            narrow sea with Bittersteel. Chain himself had been
                            born into the company, fathered on a camp follower
                            by his sellsword father. Though he had been raised
                            to speak the Common Tongue and think of himself as
                            Westerosi, he had never set foot in any part of the
                            Seven Kingdoms till now.
                        </p>
                    </div>
                    <div class="mt-4 book-chapters flex flex-col gap-6">
                        <h3 class="text-2xl font-semibold" id="chapter-title">
                            Capitolo 1: <span>A bless in the wind</span>
                        </h3>
                        <div class="flex items-center mt-2">
                            <a
                                href="/profile/username"
                                class="flex items-center"
                            >
                                <img
                                    src="/images/avatars/zoro-icon-chibi.png"
                                    alt="Autore"
                                    class="w-10 h-10 rounded-full mr-2"
                                />
                                <span
                                    class="text-sm text-blue-600 hover:underline"
                                    >Username</span
                                >
                            </a>
                        </div>
                        <p class="text-gray-700 mt-2" id="chapter-text">
                            They were hard men, brusque and brutal and not well
                            spoken, with scars and weathered faces that spoke of
                            long service in the free companies. “Serjeants,” Ser
                            Daemon whispered when he saw them. “I have known
                            their sort before.” Once Arianne had made her name
                            and purpose known to them, the two serjeants proved
                            hospitable enough. “You’ll stay the night,” said
                            Mudd. “There’s beds for all of you. In the morning
                            you’ll have fresh horses, and whatever provisions
                            you might need. M’lady’s maester can send a bird to
                            Griffin’s Roost to let them know you’re coming.”
                            “And who would them be?” asked Arianne. “Lord
                            Connington?” The sellswords exchanged a look. “The
                            Halfmaester,” said John Mudd. “It’s him you’ll find
                            at the Roost.” “Griffin’s marching,” said Chain.
                            “Marching where?” Ser Daemon ask. “Not for us to
                            say,” said Mudd. “Chain, hold your tongue.” Chain
                            gave a snort. “She’s Dorne. Why shouldn’t she know?
                            Come down to join us, ain’t she?” That has yet to be
                            determined, thought Arianne Martell, but she felt it
                            best not to press the matter. At evenfall a fine
                            supper was served to them in the solar, high in the
                            Tower of Owls, where they were joined by the dowager
                            Lady Mertyns and her maester. Though a captive in
                            her own castle, the old woman seemed spry and
                            cheerful. “My sons and grandsons went off when Lord
                            Renly called his banners,” she told the princess and
                            her party. “I have not seen them since, though from
                            time to time they send a raven. One of my grandsons
                            took a wound at the Blackwater, but he’s since
                            recovered. I expect they will return here soon
                            enough to hang this lot of thieves. ” She waved a
                            duck leg at Mudd and Chain across the table. “We are
                            no thieves,” said Mudd. “We’re foragers.” “Did you
                            buy all that food down in the yard?” “We foraged
                            it,” said Mudd. “The smallfolk can grow more. We
                            serve your rightful king, old crone.” He seemed to
                            be enjoying this. “You should learn to speak more
                            courteous to knights.” “If you two are knights, I’m
                            still a maiden,” said Lady Mertyns. “And I’ll speak
                            as I please. What will you do, kill me? I have lived
                            too long already.” Princess Arianne said, “Have you
                            been treated well, my lady?” “I have not been raped,
                            if that is what you’re asking,” the old woman said.
                            “Some of the serving girls have been less fortunate.
                            Married or unmarried, the men make no distinctions.
                            “ “No one’s been doing any raping,” insisted Young
                            John Mudd. “Connington won’t have that. We follow
                            orders.” Chain nodded. “Some girls was persuaded,
                            might be.” “The same way our smallfolk were
                            persuaded to give you all their crops. Melons or
                            maidenheads, it’s all the same to your sort. If you
                            want it, you take it.” Lady Mertyns turned to
                            Arianne. “If you should see this Lord Connington,
                            you tell him that I knew his mother, and she would
                            be ashamed.” Perhaps I shall, the princess thought.
                            That night she dispatched her second raven to her
                            father. Arianne was on her way back to her own
                            chamber when she heard muffled laughter from the
                            adjoining room. She paused and listened for a
                            moment, then pushed the door open to find Elia Sand
                            curled up in a window seat, kissing Feathers. When
                            Feathers saw the princess standing there, he jumped
                            to his feet and began to stammer. Both of them still
                            had their clothes on. Arianne took some small
                            comfort in that as she sent Feathers on his way with
                            a sharp look and a “Go”. Then she turned to Elia.
                            “He is twice your age. A serving man. He cleans up
                            birdshit for the maester. Elia, what were you
                            thinking?” “We were only kissing. I’m not going to
                            marry him.” Elia crossed her arms defiantly beneath
                            her breasts. “You think I never kissed a boy
                            before?” “Feathers is a man. A serving man, but
                            still a man. It did not escape the princess that
                            Elia was the same age she had been when she gave her
                            maidenhead to Daemon Sand. “I am not your mother.
                            Kiss all the boys you want when we return to Dorne.
                            Here and now, though . . . this is no place for
                            kisses, Elia. Meek and mild and obedient, you said.
                            Must I add chaste to that as well? You swore upon
                            your father’s bones. “I remember,” said Elia,
                            sounding chastened. “Meek and mild and obedient. I
                            won’t kiss him again.” The shortest way from
                            Mistwood to Griffin’s Roost was through the green,
                            wet heart of the rainwood, slow going at the best of
                            times. It took Arianne and her company the better
                            part of eight days. They travelled to the music of
                            steady, lashing rains beating at the treetops up
                            above, though underneath the green great canopy of
                            leaves and branches she and her riders stayed
                            surprisingly dry. Chain accompanied them for the
                            first four days of their journey north, with a line
                            of wagons and ten men of his own. Away from Mudd he
                            proved more forthcoming, and Arianne was able to
                            charm his life story out of him. His proudest boast
                            was of a great grandsire who had fought with the
                            Black Dragon on the Redgrass Field, and crossed the
                            narrow sea with Bittersteel. Chain himself had been
                            born into the company, fathered on a camp follower
                            by his sellsword father. Though he had been raised
                            to speak the Common Tongue and think of himself as
                            Westerosi, he had never set foot in any part of the
                            Seven Kingdoms till now.
                        </p>
                    </div>

                    <!-- Altri capitoli possono essere aggiunti nello stesso formato -->
                </div>
            </div>
        </div>

        <div
            id="overlay-new-game"
            class="fixed inset-0 z-50 flex bg-black opacity-0 bg-opacity-100 transform translate-y-10 transition-all duration-500"
            style="display: none"
        >
            <button
                onclick="closeOverlay()"
                class="absolute top-1/2 left-1/2 transform -translate-x-1/2 z-50 -translate-y-1/2 bg-red-600 text-white font-bold w-16 h-16 rounded-full flex items-center justify-center shadow-lg hover:bg-red-700 transition duration-300"
            >
                ESCI
            </button>

            <div
                class="w-1/2 h-full flex items-center justify-center ml-auto relative group"
            >
                <img
                    id="img1"
                    class="absolute w-full h-full object-cover opacity-70 custom-filter"
                    src="/images/homepage-main-img.jpg"
                    alt="Normal Mode Background"
                />

                <!-- Contenitore dei pulsanti -->
                <div class="flex flex-col gap-10 items-center">
                    <button
                        id="new-game-button-normal-fast"
                        onclick="joinQueue('normal_fast')"
                        class="w-40 group-hover:opacity-100 transition opacity-0 duration-700 hover-sound text-sm bg-blue-600 border border-white text-white font-semibold px-10 py-6 rounded-xl shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transform hover:scale-105 hover:shadow-2xl font-extrabold relative group"
                    >
                        QUICK
                        <div
                            class="absolute -top-2 -right-1 translate-x-1/2 bg-red-500 px-2 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition duration-300 rotate-12 transform"
                        >
                            30 MIN
                        </div>
                    </button>

                    <div
                        class="w-full text-center text-white text-6xl font-extrabold z-10"
                    >
                        NORMALE
                    </div>

                    <button
                        id="new-game-button-normal-slow"
                        onclick="joinQueue('normal_slow')"
                        class="w-40 group-hover:opacity-100 transition opacity-0 duration-700 hover-sound text-sm bg-blue-600 border border-white text-white font-semibold px-10 py-6 rounded-xl flex items-center justify-center shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transform hover:scale-105 hover:shadow-2xl font-extrabold relative group"
                    >
                        ENDURANCE
                        <div
                            class="absolute -top-2 -right-1 translate-x-1/2 bg-red-500 px-2 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition duration-300 rotate-12 transform"
                        >
                            12 ORE
                        </div>
                    </button>
                </div>

                <!-- Testo NORMAL -->
            </div>

            <!-- Sezione destra -->

            <div
                class="w-1/2 h-full flex items-center justify-center ml-auto relative group"
            >
                <img
                    id="img2"
                    class="absolute w-full h-full object-cover custom-filter"
                    src="/images/write-web-app_register-image-version2.png"
                    alt="Normal Mode Background"
                />

                <!-- Contenitore dei pulsanti -->
                <div class="flex flex-col gap-10 items-center">
                    <button
                        id="new-game-button-ranked-fast"
                        onclick="joinQueue('ranked_fast')"
                        class="w-40 group-hover:opacity-100 transition opacity-0 duration-700 hover-sound text-sm bg-gradient-to-r from-purple-800 to-red-400 border border-white text-white font-semibold px-10 py-6 rounded-xl flex items-center justify-center shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transform hover:scale-105 hover:shadow-2xl font-extrabold relative group"
                    >
                        QUICK
                        <div
                            class="absolute -top-2 -right-1 translate-x-1/2 bg-red-500 px-2 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition duration-300 rotate-12 transform"
                        >
                            30 MIN
                        </div>
                    </button>

                    <div
                        class="w-full text-center text-white text-6xl font-extrabold z-10"
                    >
                        CLASSIFICATA
                    </div>

                    <button
                        id="new-game-button-ranked-slow"
                        onclick="joinQueue('ranked_slow')"
                        class="w-40 group-hover:opacity-100 transition opacity-0 duration-700 hover-sound text-sm bg-gradient-to-r from-purple-800 to-red-400 border border-white text-white font-semibold px-10 py-6 rounded-xl flex items-center justify-center shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transform hover:scale-105 hover:shadow-2xl font-extrabold relative group"
                    >
                        ENDURANCE
                        <div
                            class="absolute -top-2 -right-1 translate-x-1/2 bg-red-500 px-2 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition duration-300 rotate-12 transform"
                        >
                            12 ORE
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <div class="swiper-container absolute w-full h-full overflow-hidden">
            <div class="swiper-wrapper flex w-full">
                <div
                    class="swiper-slide flex items-start justify-center px-10 py-40 h-screen bg-gradient-to-r from-white to-gray-200 w-full flex-shrink-0 h-full"
                >
                    <div id="ui-container" class="">
                        <div class="flex flex-col justify-center items-center">
                            <div
                                class="flex flex-col justify-center items-center"
                            >
                                <!-- main avatar container -->
                                <div
                                    class="avatar-container relative flex flex-col justify-center items-center p-10 bg-green-500 bg-opacity-40 shadow-md rounded-2xl h-30 w-30"
                                >
                                    <img
                                        id="main-avatar"
                                        class="h-full w-auto object-contain"
                                        src=""
                                        alt=""
                                    />
                                    <div
                                        class="absolute -mr-2 bottom-0 right-0 h-6 w-6 rounded-full bg-white"
                                    >
                                        <img
                                            class="hover-rotate cursor-pointer"
                                            src="/images/icons/change-avatar-icon.png"
                                            onclick="openAvatarMenu()"
                                            alt=""
                                        />
                                    </div>
                                </div>

                                <div
                                    class="username_container p-4 px-10 inline-block"
                                >
                                    <h2
                                        id="username"
                                        class="text-gray-800 text-4xl font-extrabold"
                                    ></h2>
                                    <h4 id="userStatus"></h4>
                                </div>
                                <div
                                    id="status-div"
                                    class="hidden flex items-center justify-center space-x-2 mt-4"
                                >
                                    <!-- Testo con il pallino verde -->
                                    <span class="text-sm font-semibold"
                                        >SEI IN GAME</span
                                    >
                                    <span
                                        id="game-status-indicator"
                                        class="w-2 h-2 rounded-full bg-green-500"
                                    ></span>
                                </div>
                                <button
                                    onclick="openOverlay()"
                                    class="bg-green-600 text-white font-bold mt-20 px-4 py-2 w-32 h-16 rounded-xl flex items-center justify-center shadow-lg hover:bg-green-700 transition duration-300"
                                >
                                    NUOVA PARTITA
                                </button>
                                <div
                                    id="gameUI-update"
                                    class="items-center justify-between p-4"
                                >
                                    <div
                                        id="turn-order"
                                        class="flex items-center justify-center gap-2 p-4 rounded"
                                    ></div>
                                    <div
                                        class="flex items-center justify-center gap-2 rounded"
                                    >
                                        <div
                                            id="countdown-display"
                                            class="w-1/2 text-4xl font-bold text-center"
                                        ></div>
                                        <div
                                            id="current-turn"
                                            class="w-1/2 text-lg font-semibold text-right"
                                        ></div>
                                    </div>
                                </div>
                            </div>

                            <div
                                id="game-buttons-container"
                                class="flex flex-wrap gap-4 mt-6"
                            ></div>
                        </div>
                    </div>
                </div>
                <div
                    class="swiper-slide flex items-start justify-center px-10 py-40 h-screen bg-gradient-to-r from-white to-gray-200 w-full flex-shrink-0 h-full"
                >
                    <h2 class="text-gray-800 text-4xl font-bold text-center">
                        Statistiche
                    </h2>
                </div>
                <div
                    class="swiper-slide flex items-start justify-center px-10 py-40 h-screen bg-gradient-to-r from-white to-gray-200 w-full flex-shrink-0 h-full"
                >
                    <h2 class="text-gray-800 text-4xl font-bold text-center">
                        Libreria Personale
                    </h2>
                </div>
                <div
                    class="swiper-slide flex items-start justify-center px-10 py-40 h-screen bg-gradient-to-r from-white to-gray-200 w-full flex-shrink-0 h-full"
                >
                    <div
                        class="w-full max-w-4xl mx-auto flex flex-col items-center justify-start"
                    >
                        <h2
                            class="text-gray-800 text-4xl font-bold text-center mb-8"
                        >
                            Storie Completate
                        </h2>

                        <div
                            id="stories-container-wrapper"
                            class="hidden relative w-full max-w-6xl mx-auto flex justify-center mt-20 px-4"
                        >
                            <div
                                id="stories-container"
                                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-2 gap-8 w-full"
                            >
                                <!-- Qui vengono inserite le storie -->
                            </div>
                        </div>
                    </div>
                </div>
                <div
                    class="swiper-slide flex items-start justify-center px-10 py-40 h-screen bg-gradient-to-r from-white to-gray-200 w-full flex-shrink-0 h-full"
                >
                    <h2 class="text-gray-800 text-4xl font-bold text-center">
                        Storie suggerite
                    </h2>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>

        <div
            id="new-popup-message"
            class="hidden fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50"
        >
            <div class="bg-white p-6 rounded-lg shadow-lg w-96">
                <p
                    id="new-popup-text"
                    class="text-center text-xl font-semibold text-gray-800"
                ></p>
                <button
                    id="new-popup-close"
                    class="mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-full w-full"
                >
                    Chiudi
                </button>
            </div>
        </div>

        <div
            id="popup-message"
            class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center hidden z-50"
        >
            <div
                class="bg-white rounded-lg shadow-lg p-6 text-center max-w-sm w-full"
            >
                <p
                    id="popup-text"
                    class="text-lg font-semibold text-gray-800 mb-4"
                ></p>
                <button
                    id="popup-close"
                    class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded"
                >
                    Ok
                </button>
            </div>
        </div>

        <div
            id="loading-overlay"
            class="fixed inset-0 flex items-center justify-center z-50 opacity-100 hidden transition-opacity duration-1000"
        >
            <img
                class="w-full h-full object-cover"
                src="/images/gifs/book-loader-dashboard.gif"
                alt="Loading Animation"
            />
        </div>

        <div class="page-wrap p-6 relative min-h-screen">
            <!-- queue overlay -->
            <div
                id="waiting-overlay"
                class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-10 hidden"
            >
                <div class="flex flex-col items-center">
                    <div id="waiting-text" class="text-white text-2xl mb-4">
                        In attesa di altri giocatori...
                    </div>
                    <div id="waiting-gif" class="mb-4">
                        <img
                            src="/images/gifs/queue-spinner.gif"
                            alt="Waiting Gif"
                            class="w-32 h-32"
                        />
                    </div>
                    <button
                        id="abandon-queue-button"
                        onclick="abandonQueue()"
                        class="px-6 py-3 bg-red-500 text-white font-semibold text-lg rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300"
                    >
                        Abbandona
                    </button>
                </div>
            </div>

            <!-- preQueue overlay -->
            <div
                id="countdown-overlay"
                class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-10 hidden"
            >
                <div
                    id="game-ready-container"
                    class="flex flex-col items-center hidden"
                >
                    <h2 class="text-red-600 text-2xl font-bold">
                        TUTTI PRONTI
                    </h2>
                </div>
                <div
                    id="countdown-seconds-container"
                    class="flex flex-col items-center"
                >
                    <div id="countdown" class="text-white text-2xl mb-2">
                        Partita trovata, Inizio in:
                    </div>
                    <h2
                        id="countdown-seconds"
                        class="text-red-600 text-9xl font-bold"
                    >
                        10
                    </h2>
                    <button
                        id="ready-btn"
                        onclick="readyToPlay()"
                        class="mt-20 px-6 py-3 bg-blue-500 text-white font-semibold text-lg rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300"
                    >
                        SEI PRONTO?
                    </button>
                    <h2
                        id="pronto-text"
                        class="hidden text-red-400 mt-20 text-2xl font-bold"
                    >
                        PRONTO
                    </h2>
                </div>
            </div>

            <!-- avatars menu container -->
            <div
                id="avatarContainer"
                class="hidden flex justify-center items-center p-50 fixed inset-0 bg-black z-10 bg-opacity-80"
            >
                <div class="flex flex-col justify-center items-center h-screen">
                    <div
                        class="grid grid-cols-4 relative grid-rows-3 gap-4 p-6 rounded shadow-lg"
                    >
                        <button
                            id="close-avatar-menu"
                            class="absolute -top-2 -right-2 w-6 h-6 rounded-full bg-white text-black text-lg flex items-center justify-center"
                        >
                            X
                        </button>
                        <div
                            data-avatar="boa-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/boa-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="nami-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/nami-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="luffy-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/luffy-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="zoro-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/zoro-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="sanji-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/sanji-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="panda-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/panda-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="shanks-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/shanks-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="robin-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/robin-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                        <div
                            data-avatar="chopper-icon-chibi"
                            class="avatar w-20 h-20 bg-blue-200 flex items-center justify-center rounded bg-opacity-50 p-2 border-2 border-transparent hover:border-red-500 cursor-pointer"
                        >
                            <img
                                class="w-4/5 h-4/5 object-contain"
                                src="/images/avatars/chopper-icon-chibi.png"
                                alt="Avatar"
                            />
                        </div>
                    </div>
                    <button
                        id="select-avatar-button"
                        class="bg-blue-500 text-white py-2 px-4 rounded"
                        disabled
                    >
                        Seleziona
                    </button>
                </div>
            </div>

            <!-- menu container -->
            <div
                id="menu-container"
                class="menu-wrapper w-full flex justify-center fixed left-0 right-0 z-20"
            >
                <div
                    id="logout-button"
                    class="icon-container icon absolute top-0 left-6 cursor-pointer p-2 border-2 border-red-400"
                    onclick="logout()"
                >
                    <img
                        class="cursor-pointer"
                        src="/images/icons/logout-icon.png"
                        alt="logout Icon"
                        class="w-6 h-6"
                    />
                </div>
                <div
                    class="inline-flex justify-center relative items-center gap-6"
                >
                    <div
                        id="dashboard-icon"
                        class="icon-container border-2 border-blue-400"
                        onclick="dashboardButton()"
                    >
                        <img
                            src="/images/icons/icons8-casa-100.png"
                            alt="Search Icon"
                            class="w-6 h-6"
                        />
                    </div>
                    <a href="/classifiche">
                        <div
                            id="leaderboard-icon"
                            class="icon-container border-2 border-blue-400"
                        >
                            <img
                                src="/images/icons/icons8-trofeo-48.png"
                                alt="leaderboard Icon"
                                class="w-6 h-6"
                            />
                        </div>
                    </a>
                    <a href="/libreria">
                        <div
                            id="library-icon"
                            class="icon-container border-2 border-blue-400"
                        >
                            <img
                                src="/images/icons/library-icon.png"
                                alt="library Icon"
                                class="w-6 h-6"
                            />
                        </div>
                    </a>
                    <div
                        id="search-icon"
                        class="icon-container border-2 border-blue-400"
                        onclick="openSearch()"
                    >
                        <img
                            src="/images/icons/users-icon-menu.png"
                            alt="Search Icon"
                            class="w-6 h-6"
                        />
                    </div>
                </div>
                <div
                    id="user-search-wrapper"
                    class="user-search-wrapper absolute top-0 right-6 opacity-0"
                >
                    <div class="relative">
                        <div
                            id="close-button"
                            onclick="closeSearch()"
                            class="absolute bg-white p-2 rounded-full w-6 h-6 top-0 right-0 cursor-pointer transform translate-x-1/2 -translate-y-1/2"
                            onclick="document.getElementById('friend-search-wrapper').classList.add('hidden')"
                        >
                            <img
                                src="/images/icons/x-icon.png"
                                alt="close-search-user"
                            />
                        </div>
                        <div
                            class="text-xs px-3 py-2 rounded bg-green-400 flex flex-col font-medium shadow-sm"
                        >
                            <form
                                id="search-form"
                                class="flex flex-col space-y-1"
                            >
                                <input
                                    type="text"
                                    id="search-input"
                                    placeholder="Cerca un utente..."
                                    class="px-2 py-1 rounded border border-gray-300 focus:outline-none focus:border-blue-500 transition duration-200"
                                />
                            </form>
                        </div>
                        <div class="results my-2" id="results"></div>
                    </div>
                </div>
            </div>

            <!-- ui container -->
        </div>
        <script src="/socket.io/socket.io.js"></script>
        <script src="/swiper/swiper-bundle.min.js"></script>
        <script src="/js/main.js" defer></script>
        <script src="/js/menu.js" defer></script>
        <script src="/js/personalLibrary.js"></script>
        <audio
            id="click-sound"
            src="/images/button-hover-sound.mp3"
            preload="auto"
        ></audio>
        <audio
            id="select-sound"
            src="/images/avatar-select-1.mp3"
            preload="auto"
        ></audio>
        <audio
            id="select-sound-new-game"
            src="/images/new-game-sound.mp3"
            preload="auto"
        ></audio>
    </body>
</html>
